🔰 第1段階（今すぐできる論理分離）

できる限りリソースに env=dev|stg|prod のタグ付

Permission Set をdev|stg|prod × Admin、ReadOnly　の6種類作成（必要であればもっと細分化）

Deny によるクロス環境の誤操作防止（例：devのロールにはprod,stgのタグがあるリソースをDenyとするポリシーをアタッチ）

Identity Center で割り当て(アクセスポータルの画面から、各アカウントで上記6種類のマネジメントコンソールにアクセスできるようにする)

🟡 第2段階（タグベース ABAC による最適化 = アタッチするIAMポリシーのできる限りの最適化）

Admin（AdministratorAccess） を縮小、またはAdmin、ReadOnly以外を作成しより細分化

タグでアクセス範囲をより明確化

“prodは表示不可” を徹底

🟥 第3段階（アカウント分離による完全隔離）

Organizations で dev/stg のアカウント新設

dev/stg のリソースを再構築、prodのdev/stgのリソースの削除

SCPの最適化（必要であれば本番環境の誤操作を完全防止など）

{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "DenyProdAndStgAccess",
            "Effect": "Deny",
            "Action": "*",
            "Resource": "*",
            "Condition": {
                "StringEquals": {
                    "aws:ResourceTag/env": ["prod", "stg"]
                }
            }
        }
    ]
}


IAMポリシーは第2段階までのものをほぼそのまま採用
